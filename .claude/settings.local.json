{
  "permissions": {
    "allow": [
      "Bash(npm run build:*)",
      "Bash(cmd.exe /c \"npm run build\")",
      "Bash(where:*)",
      "Bash(powershell.exe:*)",
      "Bash(\"c:\\\\Users\\\\wrigh\\\\Desktop\\\\MMA Tracker\\\\src\\\\lib\\\\contexts\\\\AuthContext.tsx\" << 'EOF'\n'use client';\n\nimport { createContext, useContext, useEffect, useState } from 'react';\nimport { User, Session } from '@supabase/supabase-js';\nimport { supabase } from '@/lib/supabase/client';\n\ninterface AuthContextType {\n  user: User | null;\n  session: Session | null;\n  loading: boolean;\n  signOut: \\(\\) => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType>\\({\n  user: null,\n  session: null,\n  loading: true,\n  signOut: async \\(\\) => {},\n}\\);\n\nexport const useAuth = \\(\\) => {\n  const context = useContext\\(AuthContext\\);\n  if \\(!context\\) {\n    throw new Error\\('useAuth must be used within AuthProvider'\\);\n  }\n  return context;\n};\n\nexport function AuthProvider\\({ children }: { children: React.ReactNode }\\) {\n  const [user, setUser] = useState<User | null>\\(null\\);\n  const [session, setSession] = useState<Session | null>\\(null\\);\n  const [loading, setLoading] = useState\\(true\\);\n\n  useEffect\\(\\(\\) => {\n    // Get initial session\n    supabase.auth.getSession\\(\\).then\\(\\({ data: { session } }\\) => {\n      setSession\\(session\\);\n      setUser\\(session?.user ?? null\\);\n      setLoading\\(false\\);\n    }\\);\n\n    // Listen for auth changes\n    const {\n      data: { subscription },\n    } = supabase.auth.onAuthStateChange\\(\\(_event, session\\) => {\n      setSession\\(session\\);\n      setUser\\(session?.user ?? null\\);\n      setLoading\\(false\\);\n    }\\);\n\n    return \\(\\) => subscription.unsubscribe\\(\\);\n  }, []\\);\n\n  const signOut = async \\(\\) => {\n    await supabase.auth.signOut\\(\\);\n    setUser\\(null\\);\n    setSession\\(null\\);\n  };\n\n  return \\(\n    <AuthContext.Provider value={{ user, session, loading, signOut }}>\n      {children}\n    </AuthContext.Provider>\n  \\);\n}\nEOF)",
      "Bash(\"c:\\\\Users\\\\wrigh\\\\Desktop\\\\MMA Tracker\\\\src\\\\app\\\\\\(auth\\)\\\\layout.tsx\" << 'EOF'\nexport default function AuthLayout\\({\n  children,\n}: {\n  children: React.ReactNode;\n}\\) {\n  return \\(\n    <div className=\"min-h-screen flex items-center justify-center p-4\">\n      {children}\n    </div>\n  \\);\n}\nEOF)",
      "Bash(\"c:\\\\Users\\\\wrigh\\\\Desktop\\\\MMA Tracker\\\\src\\\\app\\\\\\(auth\\)\\\\signup\\\\page.tsx\" << 'EOF'\n'use client';\n\nimport { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport { supabase } from '@/lib/supabase/client';\nimport { Input } from '@/components/ui/Input';\nimport { Button } from '@/components/ui/Button';\nimport { Card } from '@/components/ui/Card';\n\nexport default function SignUpPage\\(\\) {\n  const router = useRouter\\(\\);\n  const [email, setEmail] = useState\\(''\\);\n  const [password, setPassword] = useState\\(''\\);\n  const [confirmPassword, setConfirmPassword] = useState\\(''\\);\n  const [loading, setLoading] = useState\\(false\\);\n  const [error, setError] = useState\\(''\\);\n  const [success, setSuccess] = useState\\(false\\);\n\n  const handleSignUp = async \\(e: React.FormEvent\\) => {\n    e.preventDefault\\(\\);\n    setError\\(''\\);\n    setSuccess\\(false\\);\n\n    // Validation\n    if \\(password !== confirmPassword\\) {\n      setError\\('Passwords do not match'\\);\n      return;\n    }\n\n    if \\(password.length < 6\\) {\n      setError\\('Password must be at least 6 characters'\\);\n      return;\n    }\n\n    setLoading\\(true\\);\n\n    try {\n      const { data, error } = await supabase.auth.signUp\\({\n        email,\n        password,\n        options: {\n          emailRedirectTo: `${window.location.origin}/dashboard`,\n        },\n      }\\);\n\n      if \\(error\\) throw error;\n\n      if \\(data.user\\) {\n        setSuccess\\(true\\);\n        // If email confirmation is disabled, redirect immediately\n        if \\(data.session\\) {\n          router.push\\('/dashboard'\\);\n        }\n      }\n    } catch \\(err: any\\) {\n      setError\\(err.message || 'Failed to sign up. Please try again.'\\);\n    } finally {\n      setLoading\\(false\\);\n    }\n  };\n\n  return \\(\n    <Card className=\"w-full max-w-md\">\n      <div className=\"p-6 md:p-8\">\n        <div className=\"mb-6 text-center\">\n          <h1 className=\"text-2xl font-bold text-white mb-2\">Create Account</h1>\n          <p className=\"text-sm text-gray-400\">\n            Start tracking your MMA training progress\n          </p>\n        </div>\n\n        {success && \\(\n          <div className=\"mb-4 p-3 rounded-md bg-green-500/10 border border-green-500/20\">\n            <p className=\"text-sm text-green-400\">\n              Account created! Check your email to verify your account.\n            </p>\n          </div>\n        \\)}\n\n        {error && \\(\n          <div className=\"mb-4 p-3 rounded-md bg-red-500/10 border border-red-500/20\">\n            <p className=\"text-sm text-red-400\">{error}</p>\n          </div>\n        \\)}\n\n        <form onSubmit={handleSignUp} className=\"space-y-4\">\n          <Input\n            type=\"email\"\n            label=\"Email\"\n            placeholder=\"your@email.com\"\n            value={email}\n            onChange={\\(e\\) => setEmail\\(e.target.value\\)}\n            required\n            disabled={loading}\n          />\n\n          <Input\n            type=\"password\"\n            label=\"Password\"\n            placeholder=\"At least 6 characters\"\n            value={password}\n            onChange={\\(e\\) => setPassword\\(e.target.value\\)}\n            required\n            disabled={loading}\n          />\n\n          <Input\n            type=\"password\"\n            label=\"Confirm Password\"\n            placeholder=\"Re-enter your password\"\n            value={confirmPassword}\n            onChange={\\(e\\) => setConfirmPassword\\(e.target.value\\)}\n            required\n            disabled={loading}\n          />\n\n          <Button\n            type=\"submit\"\n            variant=\"primary\"\n            size=\"lg\"\n            className=\"w-full\"\n            disabled={loading}\n          >\n            {loading ? 'Creating Account...' : 'Sign Up'}\n          </Button>\n        </form>\n\n        <div className=\"mt-6 text-center\">\n          <p className=\"text-sm text-gray-400\">\n            Already have an account?{' '}\n            <Link\n              href=\"/signin\"\n              className=\"text-red-500 hover:text-red-400 transition-colors\"\n            >\n              Sign in\n            </Link>\n          </p>\n        </div>\n      </div>\n    </Card>\n  \\);\n}\nEOF)",
      "Bash(\"c:\\\\Users\\\\wrigh\\\\Desktop\\\\MMA Tracker\\\\src\\\\app\\\\\\(auth\\)\\\\signin\\\\page.tsx\" << 'EOF'\n'use client';\n\nimport { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport { supabase } from '@/lib/supabase/client';\nimport { Input } from '@/components/ui/Input';\nimport { Button } from '@/components/ui/Button';\nimport { Card } from '@/components/ui/Card';\n\nexport default function SignInPage\\(\\) {\n  const router = useRouter\\(\\);\n  const [email, setEmail] = useState\\(''\\);\n  const [password, setPassword] = useState\\(''\\);\n  const [loading, setLoading] = useState\\(false\\);\n  const [error, setError] = useState\\(''\\);\n\n  const handleSignIn = async \\(e: React.FormEvent\\) => {\n    e.preventDefault\\(\\);\n    setError\\(''\\);\n    setLoading\\(true\\);\n\n    try {\n      const { data, error } = await supabase.auth.signInWithPassword\\({\n        email,\n        password,\n      }\\);\n\n      if \\(error\\) throw error;\n\n      if \\(data.session\\) {\n        router.push\\('/dashboard'\\);\n        router.refresh\\(\\);\n      }\n    } catch \\(err: any\\) {\n      setError\\(err.message || 'Failed to sign in. Please check your credentials.'\\);\n    } finally {\n      setLoading\\(false\\);\n    }\n  };\n\n  return \\(\n    <Card className=\"w-full max-w-md\">\n      <div className=\"p-6 md:p-8\">\n        <div className=\"mb-6 text-center\">\n          <h1 className=\"text-2xl font-bold text-white mb-2\">Welcome Back</h1>\n          <p className=\"text-sm text-gray-400\">\n            Sign in to continue tracking your progress\n          </p>\n        </div>\n\n        {error && \\(\n          <div className=\"mb-4 p-3 rounded-md bg-red-500/10 border border-red-500/20\">\n            <p className=\"text-sm text-red-400\">{error}</p>\n          </div>\n        \\)}\n\n        <form onSubmit={handleSignIn} className=\"space-y-4\">\n          <Input\n            type=\"email\"\n            label=\"Email\"\n            placeholder=\"your@email.com\"\n            value={email}\n            onChange={\\(e\\) => setEmail\\(e.target.value\\)}\n            required\n            disabled={loading}\n          />\n\n          <Input\n            type=\"password\"\n            label=\"Password\"\n            placeholder=\"Your password\"\n            value={password}\n            onChange={\\(e\\) => setPassword\\(e.target.value\\)}\n            required\n            disabled={loading}\n          />\n\n          <div className=\"flex items-center justify-end\">\n            <Link\n              href=\"/forgot-password\"\n              className=\"text-sm text-gray-400 hover:text-red-400 transition-colors\"\n            >\n              Forgot password?\n            </Link>\n          </div>\n\n          <Button\n            type=\"submit\"\n            variant=\"primary\"\n            size=\"lg\"\n            className=\"w-full\"\n            disabled={loading}\n          >\n            {loading ? 'Signing In...' : 'Sign In'}\n          </Button>\n        </form>\n\n        <div className=\"mt-6 text-center\">\n          <p className=\"text-sm text-gray-400\">\n            Don't have an account?{' '}\n            <Link\n              href=\"/signup\"\n              className=\"text-red-500 hover:text-red-400 transition-colors\"\n            >\n              Sign up\n            </Link>\n          </p>\n        </div>\n      </div>\n    </Card>\n  \\);\n}\nEOF)",
      "Bash(\"c:\\\\Users\\\\wrigh\\\\Desktop\\\\MMA Tracker\\\\src\\\\app\\\\\\(auth\\)\\\\forgot-password\\\\page.tsx\" << 'EOF'\n'use client';\n\nimport { useState } from 'react';\nimport Link from 'next/link';\nimport { supabase } from '@/lib/supabase/client';\nimport { Input } from '@/components/ui/Input';\nimport { Button } from '@/components/ui/Button';\nimport { Card } from '@/components/ui/Card';\n\nexport default function ForgotPasswordPage\\(\\) {\n  const [email, setEmail] = useState\\(''\\);\n  const [loading, setLoading] = useState\\(false\\);\n  const [error, setError] = useState\\(''\\);\n  const [success, setSuccess] = useState\\(false\\);\n\n  const handleResetPassword = async \\(e: React.FormEvent\\) => {\n    e.preventDefault\\(\\);\n    setError\\(''\\);\n    setSuccess\\(false\\);\n    setLoading\\(true\\);\n\n    try {\n      const { error } = await supabase.auth.resetPasswordForEmail\\(email, {\n        redirectTo: `${window.location.origin}/reset-password`,\n      }\\);\n\n      if \\(error\\) throw error;\n\n      setSuccess\\(true\\);\n      setEmail\\(''\\);\n    } catch \\(err: any\\) {\n      setError\\(err.message || 'Failed to send reset email. Please try again.'\\);\n    } finally {\n      setLoading\\(false\\);\n    }\n  };\n\n  return \\(\n    <Card className=\"w-full max-w-md\">\n      <div className=\"p-6 md:p-8\">\n        <div className=\"mb-6 text-center\">\n          <h1 className=\"text-2xl font-bold text-white mb-2\">Reset Password</h1>\n          <p className=\"text-sm text-gray-400\">\n            Enter your email and we'll send you a reset link\n          </p>\n        </div>\n\n        {success && \\(\n          <div className=\"mb-4 p-3 rounded-md bg-green-500/10 border border-green-500/20\">\n            <p className=\"text-sm text-green-400\">\n              Password reset email sent! Check your inbox for the reset link.\n            </p>\n          </div>\n        \\)}\n\n        {error && \\(\n          <div className=\"mb-4 p-3 rounded-md bg-red-500/10 border border-red-500/20\">\n            <p className=\"text-sm text-red-400\">{error}</p>\n          </div>\n        \\)}\n\n        <form onSubmit={handleResetPassword} className=\"space-y-4\">\n          <Input\n            type=\"email\"\n            label=\"Email\"\n            placeholder=\"your@email.com\"\n            value={email}\n            onChange={\\(e\\) => setEmail\\(e.target.value\\)}\n            required\n            disabled={loading}\n          />\n\n          <Button\n            type=\"submit\"\n            variant=\"primary\"\n            size=\"lg\"\n            className=\"w-full\"\n            disabled={loading}\n          >\n            {loading ? 'Sending Reset Link...' : 'Send Reset Link'}\n          </Button>\n        </form>\n\n        <div className=\"mt-6 text-center\">\n          <Link\n            href=\"/signin\"\n            className=\"text-sm text-gray-400 hover:text-red-400 transition-colors\"\n          >\n            Back to sign in\n          </Link>\n        </div>\n      </div>\n    </Card>\n  \\);\n}\nEOF)",
      "Bash(\"c:\\\\Users\\\\wrigh\\\\Desktop\\\\MMA Tracker\\\\src\\\\components\\\\layout\\\\LayoutWrapper.tsx\" << 'EOF'\n'use client';\n\nimport { usePathname } from 'next/navigation';\nimport { Sidebar } from './Sidebar';\nimport { Header } from './Header';\nimport { MobileNav } from './MobileNav';\nimport { PageTransition } from './PageTransition';\n\nexport function LayoutWrapper\\({ children }: { children: React.ReactNode }\\) {\n  const pathname = usePathname\\(\\);\n  \n  // Check if current route is an auth route\n  const isAuthRoute = pathname.startsWith\\('/signin'\\) || \n                      pathname.startsWith\\('/signup'\\) || \n                      pathname.startsWith\\('/forgot-password'\\) || \n                      pathname.startsWith\\('/reset-password'\\);\n\n  // For auth routes, just render children without sidebar/header\n  if \\(isAuthRoute\\) {\n    return <>{children}</>;\n  }\n\n  // For app routes, render with sidebar and header\n  return \\(\n    <>\n      <div className=\"flex h-screen overflow-hidden\">\n        {/* Desktop Sidebar */}\n        <Sidebar />\n\n        {/* Main Content */}\n        <div className=\"flex flex-col flex-1 overflow-hidden\">\n          <Header />\n          <main className=\"flex-1 overflow-y-auto p-4 md:p-6 lg:p-8\">\n            <PageTransition>{children}</PageTransition>\n          </main>\n        </div>\n      </div>\n\n      {/* Mobile Bottom Navigation */}\n      <MobileNav />\n    </>\n  \\);\n}\nEOF)"
    ]
  }
}
